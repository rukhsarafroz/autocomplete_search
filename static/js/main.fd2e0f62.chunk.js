(this.webpackJsonpautocomplete_search=this.webpackJsonpautocomplete_search||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),s=n.n(c),o=(n(78),n(79),n(28)),i=n(60),l=n(24),u="GET_MONSTERS_REQUESTING",p="GET_MONSTERS_SUCCESS",d="GET_MONSTERS_FAILURE",j={getMonstersRequesting:null,getMonstersSuccess:null,monstersList:[],getMonstersErrors:[],currentPage:1,totalPages:1};var m=Object(o.combineReducers)({monsterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(l.a)(Object(l.a)({},e),{},{getMonstersRequesting:!0,getMonstersSuccess:null,projectAreasErrors:null});case p:return Object(l.a)(Object(l.a)({},e),{},{getMonstersRequesting:null,getMonstersSuccess:!0,monstersList:t.data,totalPages:t.totalPages,currentPage:t.currentPage,projectAreasErrors:null});case d:return Object(l.a)(Object(l.a)({},e),{},{getMonstersRequesting:null,getMonstersSuccess:!1,projectAreasList:[],projectAreasErrors:t.projectAreaErrors});default:return e}}}),b=[n(61).a],g=Object(o.createStore)(m,{},Object(i.composeWithDevTools)(o.applyMiddleware.apply(void 0,b))),h=n(37),x=n(18),f=n(132),O=n(135),S=n(67),y=n.n(S),v=n(141),w=n(2),I=Object(f.a)((function(e){return{searchDiv:{position:"relative",border:"1px solid white",backgroundColor:"white","&:hover":{backgroundColor:"white"},width:"400px",marginLeft:"30px",height:"50px"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",marginBottom:"auto",marginTop:"auto",height:"100%"},inputInput:{padding:e.spacing(1,1,1,0),transition:e.transitions.create("width"),width:"100%"},searchImg:{marginBottom:"3px",height:"15px",paddingTop:"3px",color:"gainsboro"}}})),R=function(e){var t=e.searchQuery,n=e.setSearchQuery,r=I();return Object(w.jsxs)("div",{className:r.searchDiv,children:[Object(w.jsx)("div",{className:r.searchIcon,children:Object(w.jsx)(y.a,{className:r.searchImg})}),Object(w.jsx)(v.a,{placeholder:"Search for a contact",classes:{root:r.inputRoot,input:r.inputInput},inputProps:{"aria-label":"search"},style:{paddingLeft:45,fontSize:"13px"},defaultValue:t,onChange:function(e){n(e.target.value)}})]})},E=n(142),C=function(e){var t=e.name,n=e.image,r=e.avatarStyle,a=e.avatarGridStyle;return Object(w.jsx)(O.a,{item:!0,className:a,children:Object(w.jsx)(E.a,{alt:t,src:n,className:r})})},T=n(68),N=n.n(T),k=function(e){var t=e.status,n=e.species,r=e.fiberIconStyle,a=e.fiberIconGridStyle,c=e.statusRootStyle,s="Alive"===t?"green":"Dead"===t?"red":"grey";return Object(w.jsxs)(O.a,{item:!0,xs:!0,className:c,children:[Object(w.jsx)("span",{className:a,children:Object(w.jsx)(N.a,{fontSize:"small",className:r,style:{color:s}})}),Object(w.jsxs)("span",{children:[t," - ",n]})]})},G=Object(f.a)({root:{border:"1px solid white",backgroundColor:"white","&:hover":{backgroundColor:"white"},width:"400px",marginLeft:"30px",height:"50px",marginBottom:"3px"},avatarStyle:{width:"30px",height:"30px"},avatarGridStyle:{marginBottom:"auto",marginTop:"auto",marginLeft:"12px"},nameStyle:{fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},fiberIconStyle:{fontSize:"12px"},fiberIconGridStyle:{marginRight:"4px"},statusRootStyle:{marginBottom:"auto",marginTop:"auto",fontSize:"15px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),P=function(e){var t=G(),n=e.monster;return Object(w.jsxs)(O.a,{container:!0,className:t.root,children:[Object(w.jsx)(C,{name:n.name,image:n.image,avatarStyle:t.avatarStyle,avatarGridStyle:t.avatarGridStyle}),Object(w.jsx)(O.a,{item:!0,xs:5,className:"".concat(t.nameStyle," ").concat(t.avatarGridStyle),children:n.name}),Object(w.jsx)(k,{status:n.status,species:n.species,fiberIconStyle:t.fiberIconStyle,fiberIconGridStyle:t.fiberIconGridStyle,statusRootStyle:t.statusRootStyle})]},"monster-".concat(n.id))},L=n(139),M=n(140),A=n(137),_=n(138),B=n(136),z=Object(f.a)({root:{fontSize:"14px"},keyStyle:{color:"grey"},valueStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"black"}}),D=function(e){var t=z(),n=e.object;return Object(w.jsx)(O.a,{item:!0,xs:6,style:{marginTop:"10px",marginBottom:"10px"},children:Object.entries(n).map((function(e){var n=Object(x.a)(e,2),r=n[0],a=n[1];return Object(w.jsxs)(O.a,{container:!0,direction:"column",className:t.root,children:[Object(w.jsx)(O.a,{item:!0,xs:12,className:t.keyStyle,children:r}),Object(w.jsx)(O.a,{item:!0,xs:12,className:t.valueStyle,children:a})]})}))})},Q=Object(f.a)((function(e){return{root:{flexGrow:1,display:"flex",color:"#000000"},dialog:{paddingLeft:"24px",paddingRight:"24px",maxWidth:"297px"},avatarStyle:{width:"70px",height:"70px"},avatarGridStyle:{marginBottom:"auto",marginTop:"auto",marginLeft:"12px"},rightPanel:{marginBottom:"auto",marginTop:"auto",alignItems:"center"},nameStyle:{fontSize:"20px",fontWeight:"600"},fiberIconStyle:{fontSize:"12px"},fiberIconGridStyle:{marginRight:"4px"},statusRootStyle:{fontSize:"15px",marginTop:"5px"},topPanel:{marginBottom:"10px"}}})),q=function(e){var t,n,a=Q(),c=e.monster,s=e.dialogueState,o=e.setDialogueState,i=Object(r.useCallback)((function(e){o(!1)})),l=[{Gender:c.gender},{Location:null===c||void 0===c||null===(t=c.location)||void 0===t?void 0:t.name}],u=[{Species:c.species},{Origin:null===c||void 0===c||null===(n=c.origin)||void 0===n?void 0:n.name}];return Object(w.jsxs)(L.a,{PaperProps:{classes:{root:a.dialog}},open:s,fullWidth:!0,children:[Object(w.jsx)(O.a,{container:!0,children:Object(w.jsx)(O.a,{item:!0,xs:!0,style:{display:"flex",justifyContent:"flex-end"},children:Object(w.jsx)(M.a,{color:"inherit",onClick:i,"aria-label":"close",children:Object(w.jsx)(B.a,{})})})}),Object(w.jsx)(A.a,{style:{padding:"0px",overflow:"hidden"},children:Object(w.jsxs)(O.a,{container:!0,direction:"column",children:[Object(w.jsxs)(O.a,{item:!0,xs:12,container:!0,className:a.topPanel,children:[Object(w.jsx)(O.a,{item:!0,children:Object(w.jsx)(C,{name:c.name,image:c.image,avatarStyle:a.avatarStyle,avatarGridStyle:a.avatarGridStyle})}),Object(w.jsxs)(O.a,{item:!0,xs:!0,container:!0,direction:"column",className:a.rightPanel,children:[Object(w.jsx)(O.a,{item:!0,className:a.nameStyle,children:c.name}),Object(w.jsx)(k,{status:c.status,species:c.species,fiberIconStyle:a.fiberIconStyle,fiberIconGridStyle:a.fiberIconGridStyle,statusRootStyle:a.statusRootStyle})]})]}),Object(w.jsx)(_.a,{variant:"middle"}),Object(w.jsxs)(O.a,{item:!0,xs:12,container:!0,style:{margin:"12px"},children:[l.map((function(e){return Object(w.jsx)(D,{object:e})})),u.map((function(e){return Object(w.jsx)(D,{object:e})}))]})]})})]})},F=function(e){var t=e.monstersList,n=e.page,a=e.setPage,c=Object(r.useState)(!1),s=Object(x.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(),u=Object(x.a)(l,2),p=u[0],d=u[1],j=Object(r.useRef)(),m=Object(r.useCallback)((function(e,n){var r=t.filter((function(e){return e.id===n}));r&&r.length&&d(r[0]),i(!0)})),b=function(e){Object(x.a)(e,1)[0].isIntersecting&&a(n+1)};return Object(r.useEffect)((function(){var e=new IntersectionObserver(b,{root:null,rootMargin:"0px",threshold:1});return j.current&&e.observe(j.current),function(){j.current&&e.unobserve(j.current)}}),[j]),Object(w.jsxs)(O.a,{container:!0,ref:j,style:{minHeight:"20vh",overflowY:"auto"},children:[Object(w.jsx)(O.a,{container:!0,direction:"column",children:t&&t.map((function(e){return Object(w.jsx)(O.a,{container:!0,onClick:function(t){m(t,e.id)},children:Object(w.jsx)(P,{monster:e})},"monster-list-".concat(e.id))}))}),o&&Object(w.jsx)(q,{dialogueState:o,setDialogueState:i,monster:p})]})},U=n(17),W=n.n(U),J=n(26),H=n(44),V=n.n(H),Y="https://rickandmortyapi.com/api/",K=V.a.CancelToken.source(),X=function(){var e=Object(J.a)(W.a.mark((function e(t,n,r){var a,c,s,o,i=arguments;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=1,"CANCEL_API_REQUEST"===a&&(K.cancel("Operation canceled by the user."),c=V.a.CancelToken,K=c.source()),(s={Accept:"application/json","Access-Control-Allow-Origin":"*"})["Content-Type"]="application/json",e.next=7,V()({url:"".concat(Y).concat(t),defaults:{timeout:2e4},data:r,headers:s,method:n,cancelToken:K.token});case 7:return o=e.sent,e.abrupt("return",{error:null,response:o.data});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(J.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X("character/?name=".concat(t.name,"&page=").concat(t.page),"get",null,t.type);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),new Error({error:!0,message:"Something went wrong..!!"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=n(69),ee=Object(f.a)({root:{display:"flex",alignContent:"center",marginTop:"70px"},title:{fontWeight:500,fontSize:"45px"},searchGrid:{marginTop:"50px"},monsterList:{marginTop:"20px"}}),te=function(e){var t=ee(),n=Object(h.c)((function(e){return e.monsterReducer})),a=(n.getMonstersRequesting,n.getMonstersSuccess,n.monstersList),c=(n.getMonstersErrors,n.currentPage),s=n.totalPages,o=Object(r.useState)(""),i=Object(x.a)(o,2),l=i[0],j=i[1],m=Object(r.useState)(c),b=Object(x.a)(m,2),g=b[0],f=b[1],S=Object(r.useRef)(!0),y=Object(h.b)(),v=Object(r.useCallback)((function(e){var t;y((t={page:g,name:l,type:e},function(){var e=Object(J.a)(W.a.mark((function e(n){var r,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:u}),e.next=4,Z(t);case 4:(r=e.sent)&&r.response&&r.response.results?(a=r.response.results,n({type:p,data:a,currentPage:t.page,totalPages:r.response.info.pages,message:"Monsters fetched successfully"})):n({type:d,error:r.response.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n({type:d});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[l]);Object(r.useEffect)((function(){g<=s&&l&&v()}),[g]);var I=Object(r.useCallback)(Object($.debounce)((function(){v("CANCEL_API_REQUEST")}),500),[l]);return Object(r.useEffect)((function(){if(!S.current)return I(),I.cancel;S.current=!1}),[l,I]),Object(w.jsxs)(O.a,{container:!0,direction:"column",className:t.root,children:[Object(w.jsx)(O.a,{item:!0,xs:12,className:t.title,children:"Rick and Morty Search"}),Object(w.jsx)(O.a,{item:!0,xs:12,className:t.searchGrid,children:Object(w.jsx)(R,{searchQuery:l,setSearchQuery:j})}),Object(w.jsx)(O.a,{item:!0,xs:12,className:t.monsterList,style:{display:""===l?"none":"flex"},children:Object(w.jsx)(F,{monstersList:a,page:g,setPage:f})})]})};var ne=function(){return Object(w.jsx)(h.a,{store:g,children:Object(w.jsx)(te,{})})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,144)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(ne,{})}),document.getElementById("root")),re()},78:function(e,t,n){},79:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.fd2e0f62.chunk.js.map