(this.webpackJsonpautocomplete_search=this.webpackJsonpautocomplete_search||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),o=(a(81),a(82),a(29)),i=a(64),l=a(52),u=a(26),p=a(24),j="GET_MONSTERS_REQUESTING",d="GET_MONSTERS_SUCCESS",m="GET_MONSTERS_FAILURE",h={getMonstersRequesting:null,getMonstersSuccess:null,monstersList:[],getMonstersErrors:[],hasMore:!1,currentPage:1,totalPages:1};var b=Object(o.combineReducers)({monsterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(u.a)(Object(u.a)({},e),{},{getMonstersRequesting:!0,getMonstersSuccess:!1,projectAreasErrors:null});case d:return Object(u.a)(Object(u.a)({},e),{},{getMonstersRequesting:!1,getMonstersSuccess:!0,monstersList:e.monstersList&&e.monstersList.length?Object(p.uniqWith)([].concat(Object(l.a)(e.monstersList),Object(l.a)(t.data)),p.isEqual):t.data,hasMore:t.hasMore,currentPage:t.currentPage,totalPages:t.totalPages,projectAreasErrors:null});case m:return Object(u.a)(Object(u.a)({},e),{},{getMonstersRequesting:null,getMonstersSuccess:!1,projectAreasList:[],projectAreasErrors:t.projectAreaErrors});default:return e}}}),g=[a(65).a],x=Object(o.createStore)(b,{},Object(i.composeWithDevTools)(o.applyMiddleware.apply(void 0,g))),f=a(40),O=a(22),S=a(136),v=a(139),y=a(71),w=a.n(y),R=a(146),C=a(2),I=Object(S.a)((function(e){return{searchDiv:{position:"relative",border:"1px solid white",backgroundColor:"white","&:hover":{backgroundColor:"white"},width:"400px",marginLeft:"30px",height:"50px"},searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",marginBottom:"auto",marginTop:"auto",height:"100%"},inputInput:{padding:e.spacing(1,1,1,0),transition:e.transitions.create("width"),width:"100%"},searchImg:{marginBottom:"3px",height:"15px",paddingTop:"3px",color:"gainsboro"}}})),N=function(e){var t=e.searchQuery,a=e.setSearchQuery,n=I();return Object(C.jsxs)("div",{className:n.searchDiv,children:[Object(C.jsx)("div",{className:n.searchIcon,children:Object(C.jsx)(w.a,{className:n.searchImg})}),Object(C.jsx)(R.a,{placeholder:"Search for a contact",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},style:{paddingLeft:45,fontSize:"13px"},defaultValue:t,onChange:function(e){a(e.target.value)}})]})},k=a(147),T=function(e){var t=e.name,a=e.image,n=e.avatarStyle,r=e.avatarGridStyle;return Object(C.jsx)(v.a,{item:!0,className:r,children:Object(C.jsx)(k.a,{alt:t,src:a,className:n})})},E=a(72),G=a.n(E),M=function(e){var t=e.status,a=e.species,n=e.fiberIconStyle,r=e.fiberIconGridStyle,s=e.statusRootStyle,c="Alive"===t?"green":"Dead"===t?"red":"grey";return Object(C.jsxs)(v.a,{item:!0,xs:!0,className:s,children:[Object(C.jsx)("span",{className:r,children:Object(C.jsx)(G.a,{fontSize:"small",className:n,style:{color:c}})}),Object(C.jsxs)("span",{children:[t," - ",a]})]})},L=Object(S.a)({root:{border:"1px solid white",backgroundColor:"white","&:hover":{backgroundColor:"white"},width:"400px",marginLeft:"30px",height:"50px",marginBottom:"3px"},avatarStyle:{width:"30px",height:"30px"},avatarGridStyle:{marginBottom:"auto",marginTop:"auto",marginLeft:"12px"},nameStyle:{fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},fiberIconStyle:{fontSize:"12px"},fiberIconGridStyle:{marginRight:"4px"},statusRootStyle:{marginBottom:"auto",marginTop:"auto",fontSize:"15px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),P=function(e){var t=L(),a=e.monster;return Object(C.jsxs)(v.a,{container:!0,className:t.root,children:[Object(C.jsx)(T,{name:a.name,image:a.image,avatarStyle:t.avatarStyle,avatarGridStyle:t.avatarGridStyle}),Object(C.jsx)(v.a,{item:!0,xs:5,className:"".concat(t.nameStyle," ").concat(t.avatarGridStyle),children:a.name}),Object(C.jsx)(M,{status:a.status,species:a.species,fiberIconStyle:t.fiberIconStyle,fiberIconGridStyle:t.fiberIconGridStyle,statusRootStyle:t.statusRootStyle})]},"monster-".concat(a.id))},A=a(144),B=a(145),_=a(141),z=a(142),q=a(140),D=Object(S.a)({root:{fontSize:"14px"},keyStyle:{color:"grey"},valueStyle:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"black"}}),Q=function(e){var t=D(),a=e.object;return Object(C.jsx)(v.a,{item:!0,xs:6,style:{marginTop:"10px",marginBottom:"10px"},children:Object.entries(a).map((function(e){var a=Object(O.a)(e,2),n=a[0],r=a[1];return Object(C.jsxs)(v.a,{container:!0,direction:"column",className:t.root,children:[Object(C.jsx)(v.a,{item:!0,xs:12,className:t.keyStyle,children:n}),Object(C.jsx)(v.a,{item:!0,xs:12,className:t.valueStyle,children:r})]})}))})},F=Object(S.a)((function(e){return{root:{flexGrow:1,display:"flex",color:"#000000"},dialog:{paddingLeft:"24px",paddingRight:"24px",maxWidth:"297px"},avatarStyle:{width:"70px",height:"70px"},avatarGridStyle:{marginBottom:"auto",marginTop:"auto",marginLeft:"12px"},rightPanel:{marginBottom:"auto",marginTop:"auto",alignItems:"center"},nameStyle:{fontSize:"20px",fontWeight:"600"},fiberIconStyle:{fontSize:"12px"},fiberIconGridStyle:{marginRight:"4px"},statusRootStyle:{fontSize:"15px",marginTop:"5px"},topPanel:{marginBottom:"10px"}}})),W=function(e){var t,a,r=F(),s=e.monster,c=e.dialogueState,o=e.setDialogueState,i=Object(n.useCallback)((function(e){o(!1)})),l=[{Gender:s.gender},{Location:null===s||void 0===s||null===(t=s.location)||void 0===t?void 0:t.name}],u=[{Species:s.species},{Origin:null===s||void 0===s||null===(a=s.origin)||void 0===a?void 0:a.name}];return Object(C.jsxs)(A.a,{PaperProps:{classes:{root:r.dialog}},open:c,fullWidth:!0,children:[Object(C.jsx)(v.a,{container:!0,children:Object(C.jsx)(v.a,{item:!0,xs:!0,style:{display:"flex",justifyContent:"flex-end"},children:Object(C.jsx)(B.a,{color:"inherit",onClick:i,"aria-label":"close",children:Object(C.jsx)(q.a,{})})})}),Object(C.jsx)(_.a,{style:{padding:"0px",overflow:"hidden"},children:Object(C.jsxs)(v.a,{container:!0,direction:"column",children:[Object(C.jsxs)(v.a,{item:!0,xs:12,container:!0,className:r.topPanel,children:[Object(C.jsx)(v.a,{item:!0,children:Object(C.jsx)(T,{name:s.name,image:s.image,avatarStyle:r.avatarStyle,avatarGridStyle:r.avatarGridStyle})}),Object(C.jsxs)(v.a,{item:!0,xs:!0,container:!0,direction:"column",className:r.rightPanel,children:[Object(C.jsx)(v.a,{item:!0,className:r.nameStyle,children:s.name}),Object(C.jsx)(M,{status:s.status,species:s.species,fiberIconStyle:r.fiberIconStyle,fiberIconGridStyle:r.fiberIconGridStyle,statusRootStyle:r.statusRootStyle})]})]}),Object(C.jsx)(z.a,{variant:"middle"}),Object(C.jsxs)(v.a,{item:!0,xs:12,container:!0,style:{margin:"12px"},children:[l.map((function(e){return Object(C.jsx)(Q,{object:e})})),u.map((function(e){return Object(C.jsx)(Q,{object:e})}))]})]})})]})},U=a(143),J=Object(S.a)({root:{border:"1px solid white",backgroundColor:"white","&:hover":{backgroundColor:"white"},width:"400px",marginLeft:"30px",height:"50px",marginBottom:"3px"},avatarGridStyle:{marginBottom:"auto",marginTop:"auto",marginLeft:"12px"},statusRootStyle:{marginBottom:"auto",marginTop:"auto"}}),H=function(e){var t=e.count,a=J(),r=parseInt(t);return Object(C.jsx)(n.Fragment,{children:Object(p.times)(r,(function(e){return Object(C.jsxs)(v.a,{container:!0,className:a.root,children:[Object(C.jsx)(v.a,{item:!0,className:a.avatarGridStyle,children:Object(C.jsx)(U.a,{variant:"circle",width:30,height:30})}),Object(C.jsx)(v.a,{item:!0,xs:5,className:a.avatarGridStyle,children:Object(C.jsx)(U.a,{style:{width:"95%"},animation:"wave",variant:"text"})}),Object(C.jsx)(v.a,{item:!0,xs:!0,className:a.statusRootStyle,children:Object(C.jsx)(U.a,{style:{width:"80%"},animation:"wave",variant:"text"})})]},e)}))})},V=Object(S.a)({root:{maxHeight:"50vh",overflowY:"auto"}}),Y=function(e){var t=e.monstersList,a=e.setPage,r=e.getMonstersRequesting,s=e.hasMore,c=e.totalPages,o=e.page,i=Object(n.useState)(!1),l=Object(O.a)(i,2),u=l[0],p=l[1],j=Object(n.useState)(),d=Object(O.a)(j,2),m=d[0],h=d[1],b=V(),g=Object(n.useCallback)((function(e,a){var n=t.filter((function(e){return e.id===a}));n&&n.length&&h(n[0]),p(!0)})),x=Object(n.useRef)(),f=Object(n.useCallback)((function(e){r||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver((function(e){e[0].isIntersecting&&s&&o<=c&&a((function(e){return e+1}))})),e&&x.current.observe(e))}),[r,s,o,a,c]);return Object(C.jsxs)(v.a,{container:!0,className:b.root,children:[Object(C.jsxs)(v.a,{container:!0,direction:"column",children:[t&&t.map((function(e,a){return t.length===a+1?Object(C.jsx)(v.a,{container:!0,onClick:function(t){g(t,e.id)},ref:f,children:Object(C.jsx)(P,{monster:e})},"monster-list-".concat(e.id)):Object(C.jsx)(v.a,{container:!0,onClick:function(t){g(t,e.id)},children:Object(C.jsx)(P,{monster:e})},"monster-list-".concat(e.id))})),r&&Object(C.jsx)(v.a,{item:!0,children:Object(C.jsx)(H,{count:s?1:5})})]}),u&&Object(C.jsx)(W,{dialogueState:u,setDialogueState:p,monster:m})]})},K=a(17),X=a.n(K),Z=a(27),$=a(48),ee=a.n($),te="https://rickandmortyapi.com/api/",ae=ee.a.CancelToken.source(),ne=function(){var e=Object(Z.a)(X.a.mark((function e(t,a,n){var r,s,c,o,i=arguments;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>3&&void 0!==i[3]?i[3]:null,e.prev=1,"CANCEL_API_REQUEST"===r&&(ae.cancel("Operation canceled by the user."),s=ee.a.CancelToken,ae=s.source()),(c={Accept:"application/json","Access-Control-Allow-Origin":"*"})["Content-Type"]="application/json",e.next=7,ee()({url:"".concat(te).concat(t),defaults:{timeout:2e4},data:n,headers:c,method:a,cancelToken:ae.token});case 7:return o=e.sent,e.abrupt("return",{error:null,response:o.data});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),re=function(){var e=Object(Z.a)(X.a.mark((function e(t){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne("character/?name=".concat(t.name,"&page=").concat(t.page),"get",null,t.type);case 3:return a=e.sent,e.abrupt("return",a);case 7:throw e.prev=7,e.t0=e.catch(0),new Error({error:!0,message:"Something went wrong..!!"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=Object(S.a)({root:{display:"flex",alignContent:"center",marginTop:"70px"},title:{fontWeight:500,fontSize:"45px"},searchGrid:{marginTop:"50px"},monsterList:{marginTop:"20px"}}),ce=function(e){var t=se(),a=Object(f.c)((function(e){return e.monsterReducer})),r=a.getMonstersRequesting,s=a.currentPage,c=a.totalPages,o=a.monstersList,i=a.hasMore,l=Object(n.useState)(""),u=Object(O.a)(l,2),h=u[0],b=u[1],g=Object(n.useState)(s),x=Object(O.a)(g,2),S=x[0],y=x[1],w=Object(n.useRef)(!0),R=Object(f.b)(),I=Object(n.useCallback)((function(e){var t;R((t={page:S,name:h,type:e},function(){var e=Object(Z.a)(X.a.mark((function e(a){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:j}),e.next=4,re(t);case 4:(n=e.sent)&&n.response&&n.response.results?(r=n.response.results,a({type:d,data:r,currentPage:t.page,totalPages:n.response.info.pages,hasMore:null!==n.response.info.next,message:"Monsters fetched successfully"})):a({type:m,error:n.response.error}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:m});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}));Object(n.useEffect)((function(){S<=c&&i&&h&&I()}),[S,i,h,c]);var k=Object(n.useCallback)(Object(p.debounce)((function(){I("CANCEL_API_REQUEST")}),500),[h]);return Object(n.useEffect)((function(){if(!w.current)return k(),k.cancel;w.current=!1}),[h,k]),Object(C.jsxs)(v.a,{container:!0,direction:"column",className:t.root,children:[Object(C.jsx)(v.a,{item:!0,xs:12,className:t.title,children:"Rick and Morty Search"}),Object(C.jsx)(v.a,{item:!0,xs:12,className:t.searchGrid,children:Object(C.jsx)(N,{searchQuery:h,setSearchQuery:b})}),Object(C.jsx)(v.a,{item:!0,xs:12,className:t.monsterList,style:{display:""===h?"none":"flex"},children:Object(C.jsx)(Y,{monstersList:o,setPage:y,getMonstersRequesting:r,hasMore:i,totalPages:c,page:S})})]})};var oe=function(){return Object(C.jsx)(f.a,{store:x,children:Object(C.jsx)(ce,{})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,149)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(oe,{})}),document.getElementById("root")),ie()},81:function(e,t,a){},82:function(e,t,a){}},[[111,1,2]]]);
//# sourceMappingURL=main.0294e476.chunk.js.map